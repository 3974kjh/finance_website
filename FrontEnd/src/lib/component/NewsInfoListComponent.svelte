<script lang="ts">
  export let newInfoList: any = [];

</script>

<div class="flex flex-col h-full overflow-auto w-full border rounded-md bg-gray-50 p-2 space-y-2 scrollbar-thin-custom">
  {#if newInfoList.length > 0}
    {#each newInfoList as newInfo}
      <div class="flex flex-col w-full bg-gray-200 rounded-md relative">
        <p class="font-bold p-2 {newInfo?.isOpen ? 'rounded-md border-2 border-gray-600' : 'truncate'}">{@html `ğŸ” ${newInfo?.title?.replace(/<b\s*\/?>/gi, '')}`}</p>
        <div class="flex absolute" style="top: 5px; right: 5px">
          <button class="bg-white px-1 border rounded-md" style="opacity: 0.7" on:click={() => {
            newInfo.isOpen = newInfo?.isOpen === undefined ? true : !newInfo?.isOpen;
          }}>{newInfo?.isOpen ? 'â–²' : 'â–¼'}</button>
        </div>
        {#if newInfo?.isOpen}
          <div class="p-3 w-full">
            {@html newInfo?.description}
            <a href="{newInfo?.link}" title="{newInfo?.link}" target="_blank">{@html '<br/>[go to link]'}</a>
          </div>
        {/if}
      </div>
    {/each}
  {:else}
    <div class="flex w-full h-full justify-center items-center font-bold text-gray-400">
      {'í•´ë‹¹ ì¢…ëª© ê´€ë ¨ ë‰´ìŠ¤ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.'}
    </div>
  {/if}
</div>

<style>
  /* Firefoxìš© */
  .scrollbar-thin-custom {
    scrollbar-width: thin;           /* ì–‡ì€ ìŠ¤í¬ë¡¤ë°” */
    scrollbar-color: #000000 transparent; /* ì¸ ìƒ‰ìƒ, íŠ¸ë™ì€ íˆ¬ëª… */
  }
  /* Webkit(í¬ë¡¬, ì‚¬íŒŒë¦¬ ë“±)ìš© */
  .scrollbar-thin-custom::-webkit-scrollbar {
    height: 6px;                     /* ê°€ë¡œ ìŠ¤í¬ë¡¤ë°” ë‘ê»˜ */
    background: transparent;         /* íŠ¸ë™(ë°°ê²½) íˆ¬ëª… */
  }
  .scrollbar-thin-custom::-webkit-scrollbar-thumb {
    background: #000000;                /* ì¸(ì›€ì§ì´ëŠ” ë¶€ë¶„) ìƒ‰ìƒ */
    border-radius: 4px;              /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
  }
  .scrollbar-thin-custom::-webkit-scrollbar-thumb:hover {
    background: #555;                /* ì¸ í˜¸ë²„ ì‹œ ìƒ‰ìƒ */
  }
</style>