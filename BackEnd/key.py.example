# API í‚¤ ë° ì„¤ì •ê°’ ì •ì˜ (ì˜ˆì‹œ íŒŒì¼)
# ì´ íŒŒì¼ì„ key.pyë¡œ ë³µì‚¬í•œ í›„ ì‹¤ì œ API í‚¤ë“¤ë¡œ ìˆ˜ì •í•˜ì„¸ìš”.

import os

# =====================================
# ë„¤ì´ë²„ API ì„¤ì •
# =====================================
NAVER_CLIENT_ID = os.getenv('NAVER_CLIENT_ID', os.getenv('VITE_NAVER_CLIENT_ID', 'your_naver_client_id_here'))
NAVER_CLIENT_SECRET = os.getenv('NAVER_CLIENT_SECRET', os.getenv('VITE_NAVER_CLIENT_SECRET', 'your_naver_client_secret_here'))
NAVER_API_BASE_URL = "https://openapi.naver.com/v1/search"

# =====================================
# ì¹´ì¹´ì˜¤ API ì„¤ì •
# =====================================
KAKAO_REST_API_KEY = os.getenv('KAKAO_REST_API_KEY', os.getenv('VITE_KAKAO_API_KEY', os.getenv('PUBLIC_API_KEY', 'your_kakao_api_key_here')))
KAKAO_REDIRECT_URI = os.getenv('KAKAO_REDIRECT_URI', os.getenv('VITE_KAKAO_REDIRECT_URI', os.getenv('PUBLIC_REDIRECT_URI', 'http://localhost:7150/oauth')))
KAKAO_AUTH_URL = "https://kauth.kakao.com/oauth/token"
KAKAO_API_URL = "https://kapi.kakao.com/v2/api/talk/memo/default/send"

# =====================================
# ë¡œê·¸ì¸ ì„¤ì •
# =====================================
LOGIN_USERNAME = "your_username_here"
LOGIN_PASSWORD = "your_password_here"

# =====================================
# ì„œë²„ ì„¤ì •
# =====================================
SERVER_HOST = "0.0.0.0"
SERVER_PORT = 8250

# =====================================
# í™˜ê²½ ë³€ìˆ˜ ìƒíƒœ í™•ì¸ í•¨ìˆ˜
# =====================================
def check_environment_variables():
    """í™˜ê²½ ë³€ìˆ˜ ë° ì„¤ì •ê°’ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” í•¨ìˆ˜"""
    print("ğŸ”§ Backend í™˜ê²½ ë³€ìˆ˜ ìƒíƒœ í™•ì¸:")
    print(f"   - NAVER_CLIENT_ID: {NAVER_CLIENT_ID[:10]}..." if NAVER_CLIENT_ID else "   - NAVER_CLIENT_ID: None")
    print(f"   - NAVER_CLIENT_SECRET: {NAVER_CLIENT_SECRET[:10]}..." if NAVER_CLIENT_SECRET else "   - NAVER_CLIENT_SECRET: None")
    print(f"   - KAKAO_REST_API_KEY: {KAKAO_REST_API_KEY[:10]}..." if KAKAO_REST_API_KEY else "   - KAKAO_REST_API_KEY: None")
    print(f"   - KAKAO_REDIRECT_URI: {KAKAO_REDIRECT_URI}")
    print(f"   - ì„œë²„ ì„¤ì •: {SERVER_HOST}:{SERVER_PORT}")
    
    # í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ ì²´í¬
    missing_vars = []
    if not KAKAO_REST_API_KEY or KAKAO_REST_API_KEY == 'your_kakao_api_key_here':
        missing_vars.append('KAKAO_REST_API_KEY (ë˜ëŠ” VITE_KAKAO_API_KEY)')
    if not KAKAO_REDIRECT_URI:
        missing_vars.append('KAKAO_REDIRECT_URI (ë˜ëŠ” VITE_KAKAO_REDIRECT_URI)')
    
    if missing_vars:
        print("âŒ ì„¤ì •ë˜ì§€ ì•Šì€ í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ë“¤:")
        for var in missing_vars:
            print(f"   - {var}")
        print("ğŸ“‹ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”.")
    else:
        print("âœ… ëª¨ë“  í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.")

# =====================================
# API í‚¤ ìœ íš¨ì„± ê²€ì‚¬
# =====================================
def validate_api_keys():
    """API í‚¤ë“¤ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ëŠ” í•¨ìˆ˜"""
    issues = []
    
    if not NAVER_CLIENT_ID or NAVER_CLIENT_ID == 'your_naver_client_id_here':
        issues.append('NAVER_CLIENT_ID')
    
    if not NAVER_CLIENT_SECRET or NAVER_CLIENT_SECRET == 'your_naver_client_secret_here':
        issues.append('NAVER_CLIENT_SECRET')
    
    if not KAKAO_REST_API_KEY or KAKAO_REST_API_KEY == 'your_kakao_api_key_here':
        issues.append('KAKAO_REST_API_KEY')
    
    if not KAKAO_REDIRECT_URI:
        issues.append('KAKAO_REDIRECT_URI')
    
    return issues

# =====================================
# ì„¤ì • ìš”ì•½ ì¶œë ¥
# =====================================
def print_config_summary():
    """í˜„ì¬ ì„¤ì • ìš”ì•½ì„ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜"""
    print("="*50)
    print("ğŸš€ Backend ì„œë²„ ì„¤ì • ìš”ì•½")
    print("="*50)
    print(f"ì„œë²„ ì£¼ì†Œ: {SERVER_HOST}:{SERVER_PORT}")
    print(f"ë„¤ì´ë²„ API: {'âœ… ì„¤ì •ë¨' if NAVER_CLIENT_ID and NAVER_CLIENT_SECRET else 'âŒ ë¯¸ì„¤ì •'}")
    print(f"ì¹´ì¹´ì˜¤ API: {'âœ… ì„¤ì •ë¨' if KAKAO_REST_API_KEY and KAKAO_REDIRECT_URI else 'âŒ ë¯¸ì„¤ì •'}")
    print("="*50) 